"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.MsgManager = void 0;
const event_1 = require("./event");
class MsgManager {
    constructor() {
        this.onOutgoingMessage = new event_1.Event();
        this.onIncomingMessage = new event_1.Event1();
        this._outgoingMessages = [];
    }
    postIncomingMessage(msg) {
        this.onIncomingMessage.emit(msg);
    }
    postOutgoingMessage(msg, trans) {
        this._outgoingMessages.push({
            msg: msg,
            transferables: trans
        });
        this.onOutgoingMessage.emit();
    }
    getOutgoingMessages() {
        let ret = this._outgoingMessages;
        this._outgoingMessages = [];
        return ret;
    }
}
exports.MsgManager = MsgManager;
