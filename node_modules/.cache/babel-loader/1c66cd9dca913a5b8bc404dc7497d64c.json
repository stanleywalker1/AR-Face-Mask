{"ast":null,"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.permissionDeniedUI = exports.permissionRequestUI = exports.permissionRequest = exports.permissionDenied = exports.permissionGranted = exports.Permission = void 0;\n\nconst zappar_1 = require(\"./zappar\");\n/**\n * The permissions that may be requested.\n*/\n\n\nvar Permission;\n\n(function (Permission) {\n  /**\n  * Permission to access camera images.\n  */\n  Permission[Permission[\"CAMERA\"] = 0] = \"CAMERA\";\n  /**\n   * Permission to access device motion data (e.g. accelerometer and gyro). Some tracking algorithms require this data to operate.\n   */\n\n  Permission[Permission[\"MOTION\"] = 1] = \"MOTION\";\n})(Permission = exports.Permission || (exports.Permission = {}));\n/**\n * Checks if the browser has currently granted relevant permissions.\n * @param onlyPermsission - The exclusive permission to query, otherwise all are queried.\n * @returns The permission granted state. 'true' if permission is granted.\n*/\n\n\nfunction permissionGranted(onlyPermsission) {\n  switch (onlyPermsission) {\n    case Permission.CAMERA:\n      return zappar_1.z().permission_granted_camera();\n\n    case Permission.MOTION:\n      return zappar_1.z().permission_granted_motion();\n\n    default:\n      return zappar_1.z().permission_granted_all();\n  }\n}\n\nexports.permissionGranted = permissionGranted;\n/**\n * Checks if the browser has currently denied relevant permissions.\n * @param onlyPermsission - The exclusive permission to query, otherwise all are queried.\n * @returns The permission granted state. 'true' if permission is denied.\n*/\n\nfunction permissionDenied(onlyPermission) {\n  switch (onlyPermission) {\n    case Permission.CAMERA:\n      return zappar_1.z().permission_denied_camera();\n\n    case Permission.MOTION:\n      return zappar_1.z().permission_denied_motion();\n\n    default:\n      return zappar_1.z().permission_denied_any();\n  }\n}\n\nexports.permissionDenied = permissionDenied;\n/**\n * Requests the browser to grant relevant permissions.\n *\n * This may or may not trigger a browser-provided user dialog prompting a permission choice.\n *\n * @param onlyPermission - The exclusive permission to query, otherwise all are requested.\n * @returns A Promise containing granted status. 'true' if granted.\n*/\n\nfunction permissionRequest(onlyPermission) {\n  switch (onlyPermission) {\n    case Permission.CAMERA:\n      zappar_1.z().permission_request_camera();\n      break;\n\n    case Permission.MOTION:\n      zappar_1.z().permission_request_motion();\n      break;\n\n    default:\n      zappar_1.z().permission_request_all();\n      break;\n  } // eslint-disable-next-line no-async-promise-executor\n\n\n  return new Promise(resolve => __awaiter(this, void 0, void 0, function* () {\n    // eslint-disable-next-line no-constant-condition\n    while (true) {\n      yield _nextFrame();\n\n      switch (onlyPermission) {\n        case Permission.CAMERA:\n          if (zappar_1.z().permission_granted_camera()) {\n            resolve(true);\n            return;\n          }\n\n          if (zappar_1.z().permission_denied_camera()) {\n            resolve(false);\n            return;\n          }\n\n          break;\n\n        case Permission.MOTION:\n          if (zappar_1.z().permission_granted_motion()) {\n            resolve(true);\n            return;\n          }\n\n          if (zappar_1.z().permission_denied_motion()) {\n            resolve(false);\n            return;\n          }\n\n          break;\n\n        default:\n          if (zappar_1.z().permission_granted_camera() && zappar_1.z().permission_granted_motion()) {\n            resolve(true);\n            return;\n          }\n\n          if (zappar_1.z().permission_denied_camera() || zappar_1.z().permission_denied_motion()) {\n            resolve(false);\n            return;\n          }\n\n          break;\n      }\n    }\n  }));\n}\n\nexports.permissionRequest = permissionRequest;\n/**\n * Shows Zappar's built-in UI to request camera and motion data permissions\n * @returns A promise containing granted status.\n*/\n\nfunction permissionRequestUI() {\n  return __awaiter(this, void 0, void 0, function* () {\n    return yield zappar_1.z().permission_request_ui_promise();\n  });\n}\n\nexports.permissionRequestUI = permissionRequestUI;\n/**\n * Shows Zappar's built-in permission denied UI.\n*/\n\nfunction permissionDeniedUI() {\n  return zappar_1.z().permission_denied_ui();\n}\n\nexports.permissionDeniedUI = permissionDeniedUI;\n\nfunction _nextFrame() {\n  return new Promise(resolve => requestAnimationFrame(() => resolve()));\n}","map":{"version":3,"sources":["/Users/StanleyWalker/Desktop/face-mask-demo/AR-Face-Mask/node_modules/@zappar/zappar/lib/permission.js"],"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","Object","defineProperty","exports","permissionDeniedUI","permissionRequestUI","permissionRequest","permissionDenied","permissionGranted","Permission","zappar_1","require","onlyPermsission","CAMERA","z","permission_granted_camera","MOTION","permission_granted_motion","permission_granted_all","onlyPermission","permission_denied_camera","permission_denied_motion","permission_denied_any","permission_request_camera","permission_request_motion","permission_request_all","_nextFrame","permission_request_ui_promise","permission_denied_ui","requestAnimationFrame"],"mappings":"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","sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.permissionDeniedUI = exports.permissionRequestUI = exports.permissionRequest = exports.permissionDenied = exports.permissionGranted = exports.Permission = void 0;\nconst zappar_1 = require(\"./zappar\");\n/**\n * The permissions that may be requested.\n*/\nvar Permission;\n(function (Permission) {\n    /**\n    * Permission to access camera images.\n    */\n    Permission[Permission[\"CAMERA\"] = 0] = \"CAMERA\";\n    /**\n     * Permission to access device motion data (e.g. accelerometer and gyro). Some tracking algorithms require this data to operate.\n     */\n    Permission[Permission[\"MOTION\"] = 1] = \"MOTION\";\n})(Permission = exports.Permission || (exports.Permission = {}));\n/**\n * Checks if the browser has currently granted relevant permissions.\n * @param onlyPermsission - The exclusive permission to query, otherwise all are queried.\n * @returns The permission granted state. 'true' if permission is granted.\n*/\nfunction permissionGranted(onlyPermsission) {\n    switch (onlyPermsission) {\n        case Permission.CAMERA: return zappar_1.z().permission_granted_camera();\n        case Permission.MOTION: return zappar_1.z().permission_granted_motion();\n        default: return zappar_1.z().permission_granted_all();\n    }\n}\nexports.permissionGranted = permissionGranted;\n/**\n * Checks if the browser has currently denied relevant permissions.\n * @param onlyPermsission - The exclusive permission to query, otherwise all are queried.\n * @returns The permission granted state. 'true' if permission is denied.\n*/\nfunction permissionDenied(onlyPermission) {\n    switch (onlyPermission) {\n        case Permission.CAMERA: return zappar_1.z().permission_denied_camera();\n        case Permission.MOTION: return zappar_1.z().permission_denied_motion();\n        default: return zappar_1.z().permission_denied_any();\n    }\n}\nexports.permissionDenied = permissionDenied;\n/**\n * Requests the browser to grant relevant permissions.\n *\n * This may or may not trigger a browser-provided user dialog prompting a permission choice.\n *\n * @param onlyPermission - The exclusive permission to query, otherwise all are requested.\n * @returns A Promise containing granted status. 'true' if granted.\n*/\nfunction permissionRequest(onlyPermission) {\n    switch (onlyPermission) {\n        case Permission.CAMERA:\n            zappar_1.z().permission_request_camera();\n            break;\n        case Permission.MOTION:\n            zappar_1.z().permission_request_motion();\n            break;\n        default:\n            zappar_1.z().permission_request_all();\n            break;\n    }\n    // eslint-disable-next-line no-async-promise-executor\n    return new Promise((resolve) => __awaiter(this, void 0, void 0, function* () {\n        // eslint-disable-next-line no-constant-condition\n        while (true) {\n            yield _nextFrame();\n            switch (onlyPermission) {\n                case Permission.CAMERA:\n                    if (zappar_1.z().permission_granted_camera()) {\n                        resolve(true);\n                        return;\n                    }\n                    if (zappar_1.z().permission_denied_camera()) {\n                        resolve(false);\n                        return;\n                    }\n                    break;\n                case Permission.MOTION:\n                    if (zappar_1.z().permission_granted_motion()) {\n                        resolve(true);\n                        return;\n                    }\n                    if (zappar_1.z().permission_denied_motion()) {\n                        resolve(false);\n                        return;\n                    }\n                    break;\n                default:\n                    if (zappar_1.z().permission_granted_camera() && zappar_1.z().permission_granted_motion()) {\n                        resolve(true);\n                        return;\n                    }\n                    if (zappar_1.z().permission_denied_camera() || zappar_1.z().permission_denied_motion()) {\n                        resolve(false);\n                        return;\n                    }\n                    break;\n            }\n        }\n    }));\n}\nexports.permissionRequest = permissionRequest;\n/**\n * Shows Zappar's built-in UI to request camera and motion data permissions\n * @returns A promise containing granted status.\n*/\nfunction permissionRequestUI() {\n    return __awaiter(this, void 0, void 0, function* () {\n        return yield zappar_1.z().permission_request_ui_promise();\n    });\n}\nexports.permissionRequestUI = permissionRequestUI;\n/**\n * Shows Zappar's built-in permission denied UI.\n*/\nfunction permissionDeniedUI() {\n    return zappar_1.z().permission_denied_ui();\n}\nexports.permissionDeniedUI = permissionDeniedUI;\nfunction _nextFrame() {\n    return new Promise(resolve => requestAnimationFrame(() => resolve()));\n}\n"]},"metadata":{},"sourceType":"script"}